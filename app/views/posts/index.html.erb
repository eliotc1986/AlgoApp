<div class="row">
  <div class="col-md-8">
    <div class="posts-header">
      <% if params[:category_id] %>
        <div class="heading-prefix">Category</div>
        <h1 class="heading-title"><%= Category.find(params[:category_id]).name %></h1>
      <% elsif params[:difficulty_level] %>
        <div class="heading-prefix">Algorithms Category:</div>
        <h1 class="heading-title"><%= params[:category_id] %></h1>
      <% else %>
        <h1 class="heading-title">Latest Algorithms</h1>
      <% end %>
    </div>
  </div>
</div>

<div class="row">

  <!-- MAIN CONTENT (8-Column-Wrapper) -->
  <main class="main-content">
    <div class="post">
      <% if @posts.empty? %>
        <em>Didn't find any algorithms...</em>
        <br>
      <% end %>

      <%= render 'posts' %>

      <div class="pagination-wrapper">
        <%= paginate @posts %>
      </div>
    </div>
  </main>

  <!-- SIDEBAR (4-Column-Wrapper) -->
  <aside class="sidebar">
    <div class="sidebar-content-wrapper">

      <!-- DISCOVER USERS MODULE -->
      <div class="sidebar-module">
        <div class="catelog-preview-header">
          <div class="catelog-preview-name">Discover Users</div>
          <div class="catelog-preview-description">Learn from those around you</div>
        </div>

        <ul class="catelog-preview-items">
        <% @users.each do |user| %>
          <li class="catelog-preview-item">
            <div class="media">
              <%= link_to(user, class: "media-left") do %>
                <%= image_tag user.image.url(:thumb), class: "img-circle user-image media-object", alt: "user image" %>
              <% end %>
              <div class="media-body">
                <%= link_to user.username, user, class: "preview-item-title" %>
                <p class="preview-item-meta"><%= pluralize(user.inverse_friendships.count, "Follower") %><span class="mid-dot-divider"></span><%= pluralize(user.posts.count, "Post") %></p>
              </div>
            </div>
          </li>
        <% end %>
        </ul>
      </div><!--  // discover-users-module -->

    </div><!-- //sidebar-content-wrapper -->
  </aside>
</div>
